<style>
    .table > thead > tr > th, .table > tbody > tr > td {
        text-align: center;
    }

    .IconA {
        margin: 0 10px;
        font-size: 1.2em;
    }

    .IconA:hover {
        text-decoration: none;
        background-color: white;
    }
</style>

<div class="panel">
  <div class="panel-body">
    <% if current_user.permission?(:operate_basic_info_create) %>
        <%= link_to '新建客户', new_tenant_path, :class => 'btn btn-primary', :style => 'width:200px;color:white;' %>
    <% end %>
  </div>
</div>

<table class="table table-bordered table-striped">
  <thead>
  <tr>
    <th>公司名称</th>
    <th>编码</th>
    <th>简称</th>
    <th>地址</th>
    <th>邮件</th>
    <th>电话</th>
    <th>网址</th>
    <th colspan="3">操作</th>
  </tr>
  </thead>

  <tbody>
  <% @tenants.each do |tenant| %>
      <tr>
        <td><%= tenant.name %></td>
        <td><%= tenant.short_name %></td>
        <td><%= tenant.code %></td>
        <td><%= tenant.address %></td>
        <td><%= tenant.email %></td>
        <td><%= tenant.tel %></td>
        <td><%= tenant.website %></td>
        <td>
          <% if current_user.permission?(:operate_basic_info_edit) %>
              <%= link_to content_tag(:i, '', :class => 'glyphicon glyphicon-pencil', :style => 'color:#4F94CD;'), edit_tenant_path(tenant), :class => 'IconA', :title => '编辑' %>
          <% end %>

          <% if current_user.permission?(:operate_basic_info_delete) %>
              <%= link_to content_tag(:i, '', :class => 'glyphicon glyphicon-trash', :style => 'color:darkred;'), tenant, method: :delete, data: {confirm: 'Are you sure?'}, :class => 'IconA', :title => '删除' %>
          <% end %>

          <%= link_to content_tag(:i, '', :class => 'glyphicon glyphicon-wrench', :style => 'color:black;'), tenant_part_clients_path(tenant), :class => 'IconA', :title => '零件' %>
        </td>
      </tr>
  <% end %>
  </tbody>
</table>